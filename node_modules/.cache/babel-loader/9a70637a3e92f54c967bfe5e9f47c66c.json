{"ast":null,"code":"var _jsxFileName = \"D:\\\\Niharika\\\\WT Project\\\\Medicus\\\\src\\\\containers\\\\appointments\\\\appointment\\\\index.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport AppointmentListView from \"./views/listView\";\nimport AppointmentDetailView from \"./views/detailView\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Appointment(props) {\n  _s();\n  const [isLoading, setIsLoading] = useState(true);\n  const [appointment, setAppointment] = useState({});\n\n  // Initialize appointment by fetching appointment information.\n  useEffect(() => {\n    async function initialize() {\n      try {\n        setIsLoading(true);\n        const response = await fetch(`/api/appointments/${props.id}`, {\n          headers: {\n            'Authorization': `Bearer ${props.session.authToken}`\n          }\n        });\n        let data = await response.json();\n        if (!response.ok) {\n          throw new Error(data.message);\n        }\n        setAppointment(data);\n      } catch (err) {\n        console.error(`Failed to get appointment information- ${props.id}. ${err}`);\n      } finally {\n        setIsLoading(false);\n      }\n    }\n    initialize();\n  }, [props.id, props.session]);\n  async function handleStatus(e) {\n    e.preventDefault();\n    try {\n      const newStatus = e.currentTarget.value;\n      const response = await fetch(`/api/appointments/${props.id}`, {\n        method: 'PUT',\n        credentials: 'same-origin',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${props.session.authToken}`\n        },\n        body: JSON.stringify({\n          status: newStatus\n        })\n      });\n      let data = await response.json();\n      if (!response.ok) {\n        throw new Error(data.message);\n      }\n      setAppointment(prevState => {\n        return {\n          ...prevState,\n          status: newStatus\n        };\n      });\n    } catch (err) {\n      console.error(`Failed to update status for appointment- ${props.id}. ${err}`);\n    }\n  }\n  async function handleDelete(e) {\n    e.preventDefault();\n    try {\n      const response = await fetch(`/api/appointments/${props.id}`, {\n        method: 'DELETE',\n        credentials: 'same-origin',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${props.session.authToken}`\n        }\n      });\n      let data = await response.json();\n      if (!response.ok) {\n        throw new Error(data.message);\n      }\n      if (props.deleteAppointment) {\n        await props.deleteAppointment(props.id);\n      }\n    } catch (err) {\n      console.log(`Failed to delete appointment- ${props.id}. ${err}`);\n    }\n  }\n  async function updatePaymentBalance(newPaymentBalance) {\n    setAppointment({\n      ...appointment,\n      paymentBalance: newPaymentBalance\n    });\n  }\n  if (props.listView) {\n    return /*#__PURE__*/_jsxDEV(AppointmentListView, {\n      isLoading: isLoading,\n      session: props.session,\n      appointment: appointment,\n      handleStatus: handleStatus,\n      handleDelete: handleDelete\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 13\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(AppointmentDetailView, {\n      isLoading: isLoading,\n      session: props.session,\n      appointment: appointment,\n      handleStatus: handleStatus,\n      handleDelete: handleDelete,\n      updatePayment: updatePaymentBalance\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 13\n    }, this);\n  }\n}\n_s(Appointment, \"ndKtBuqy8A5yhjyi1LC2oixq79Q=\");\n_c = Appointment;\nvar _c;\n$RefreshReg$(_c, \"Appointment\");","map":{"version":3,"names":["React","useEffect","useState","AppointmentListView","AppointmentDetailView","jsxDEV","_jsxDEV","Appointment","props","_s","isLoading","setIsLoading","appointment","setAppointment","initialize","response","fetch","id","headers","session","authToken","data","json","ok","Error","message","err","console","error","handleStatus","e","preventDefault","newStatus","currentTarget","value","method","credentials","body","JSON","stringify","status","prevState","handleDelete","deleteAppointment","log","updatePaymentBalance","newPaymentBalance","paymentBalance","listView","fileName","_jsxFileName","lineNumber","columnNumber","updatePayment","_c","$RefreshReg$"],"sources":["D:/Niharika/WT Project/Medicus/src/containers/appointments/appointment/index.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\n\r\nimport AppointmentListView from \"./views/listView\";\r\nimport AppointmentDetailView from \"./views/detailView\";\r\n\r\n\r\nexport default function Appointment(props) {\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const [appointment, setAppointment] = useState({});\r\n\r\n    // Initialize appointment by fetching appointment information.\r\n    useEffect(() => {\r\n        async function initialize() {\r\n            try {\r\n                setIsLoading(true);\r\n                const response = await fetch(`/api/appointments/${props.id}`, {\r\n                    headers: {\r\n                    'Authorization': `Bearer ${props.session.authToken}`\r\n                    }\r\n                });\r\n            \r\n                let data = await response.json();\r\n                if (!response.ok) {\r\n                    throw new Error(data.message);\r\n                }\r\n\r\n                setAppointment(data);\r\n            } catch (err) {\r\n                console.error(`Failed to get appointment information- ${props.id}. ${err}`);\r\n            } finally {\r\n                setIsLoading(false);\r\n            }\r\n        }\r\n\r\n        initialize();\r\n    }, [props.id, props.session]);\r\n\r\n    async function handleStatus(e) {\r\n        e.preventDefault();\r\n        try {\r\n            const newStatus = e.currentTarget.value;\r\n\r\n            const response = await fetch(`/api/appointments/${props.id}`, {\r\n                method: 'PUT',\r\n                credentials: 'same-origin',\r\n                headers: {\r\n                  'Content-Type': 'application/json',\r\n                  'Authorization': `Bearer ${props.session.authToken}`\r\n                },\r\n                body: JSON.stringify({\r\n                  status: newStatus\r\n                })\r\n            });\r\n\r\n            let data = await response.json();\r\n            if (!response.ok) {\r\n                throw new Error(data.message);\r\n            }\r\n\r\n            setAppointment(prevState => {\r\n                return {\r\n                    ...prevState,\r\n                    status: newStatus\r\n                }\r\n            });\r\n        } catch (err) {\r\n            console.error(`Failed to update status for appointment- ${props.id}. ${err}`);\r\n        }\r\n    }\r\n\r\n    async function handleDelete(e) {\r\n        e.preventDefault();\r\n        try {\r\n            const response = await fetch(`/api/appointments/${props.id}`, {\r\n                method: 'DELETE',\r\n                credentials: 'same-origin',\r\n                headers: {\r\n                  'Content-Type': 'application/json',\r\n                  'Authorization': `Bearer ${props.session.authToken}`\r\n                }\r\n            });\r\n\r\n            let data = await response.json();\r\n            if (!response.ok) {\r\n                throw new Error(data.message);\r\n            }\r\n\r\n            if (props.deleteAppointment) {\r\n                await props.deleteAppointment(props.id);\r\n            }\r\n        } catch (err) {\r\n            console.log(`Failed to delete appointment- ${props.id}. ${err}`);\r\n        }\r\n    }\r\n\r\n    async function updatePaymentBalance(newPaymentBalance) {\r\n        setAppointment({\r\n            ...appointment,\r\n            paymentBalance: newPaymentBalance\r\n        });\r\n    }\r\n\r\n    if (props.listView) {\r\n        return (\r\n            <AppointmentListView\r\n                isLoading={isLoading}\r\n                session={props.session}\r\n                appointment={appointment}\r\n                handleStatus={handleStatus}\r\n                handleDelete={handleDelete}\r\n            />\r\n        );\r\n    } else {\r\n        return (\r\n            <AppointmentDetailView \r\n                isLoading={isLoading}\r\n                session={props.session}\r\n                appointment={appointment}\r\n                handleStatus={handleStatus}\r\n                handleDelete={handleDelete}\r\n                updatePayment={updatePaymentBalance}\r\n            />\r\n        );\r\n    }\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}