{"ast":null,"code":"var _jsxFileName = \"D:\\\\Niharika\\\\WT Project\\\\Medicus\\\\src\\\\containers\\\\welcome\\\\signInForm.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { Form, FormRow, FormGroup, FormSubmit } from \"../../components/form.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function SignInForm(props) {\n  _s();\n  const dispatch = useDispatch();\n  const [fields, setfields] = useState({\n    errorMessage: \"\",\n    username: \"\",\n    password: \"\"\n  });\n  function handleChange(e) {\n    setfields({\n      ...fields,\n      [e.target.name]: e.target.value\n    });\n  }\n  async function handleSubmit(e) {\n    if (e) e.preventDefault();\n    console.log(\"SignIn Attempted:\", fields.username);\n    try {\n      const response = await fetch(`/api/auth/signin`, {\n        method: 'POST',\n        credentials: 'same-origin',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          username: fields.username,\n          password: fields.password\n        })\n      });\n      let data = await response.json();\n      if (!response.ok) {\n        throw new Error(data.message || \"Invalid credentials\");\n      }\n      dispatch({\n        type: \"session/set\",\n        payload: {\n          ...data\n        }\n      });\n    } catch (err) {\n      console.error(`Failed to sign in. ${err}`);\n      setfields({\n        ...fields,\n        errorMessage: err.message\n      });\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(Form, {\n    handleSubmit: handleSubmit,\n    children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n      className: \"font-weight-bold mb-3\",\n      children: \"Sign In.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this), fields.errorMessage && /*#__PURE__*/_jsxDEV(FormRow, {\n      className: \"justify-content-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"alert alert-danger p-2 w-100 text-center\",\n        role: \"alert\",\n        children: fields.errorMessage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n      children: /*#__PURE__*/_jsxDEV(\"input\", {\n        id: \"signInForm1\",\n        type: \"text\",\n        name: \"username\",\n        className: \"form-control\",\n        placeholder: \"Username\",\n        value: fields.username,\n        onChange: handleChange,\n        \"aria-label\": \"Username\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n      children: /*#__PURE__*/_jsxDEV(\"input\", {\n        id: \"signInForm2\",\n        type: \"password\",\n        name: \"password\",\n        className: \"form-control\",\n        placeholder: \"Password\",\n        value: fields.password,\n        onChange: handleChange,\n        \"aria-label\": \"Password\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n      className: \"mb-2\",\n      children: /*#__PURE__*/_jsxDEV(FormSubmit, {\n        className: \"btn-primary w-100\",\n        children: \"Sign In\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 9\n  }, this);\n}\n_s(SignInForm, \"OOMDebtc+bV9GmnX0Iu3XIUQ8e8=\", false, function () {\n  return [useDispatch];\n});\n_c = SignInForm;\nvar _c;\n$RefreshReg$(_c, \"SignInForm\");","map":{"version":3,"names":["React","useState","useDispatch","Form","FormRow","FormGroup","FormSubmit","jsxDEV","_jsxDEV","SignInForm","props","_s","dispatch","fields","setfields","errorMessage","username","password","handleChange","e","target","name","value","handleSubmit","preventDefault","console","log","response","fetch","method","credentials","headers","body","JSON","stringify","data","json","ok","Error","message","type","payload","err","error","children","className","fileName","_jsxFileName","lineNumber","columnNumber","role","id","placeholder","onChange","required","_c","$RefreshReg$"],"sources":["D:/Niharika/WT Project/Medicus/src/containers/welcome/signInForm.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { Form, FormRow, FormGroup, FormSubmit } from \"../../components/form.js\";\r\n\r\nexport default function SignInForm(props) {\r\n    const dispatch = useDispatch();\r\n\r\n    const [fields, setfields] = useState({\r\n        errorMessage: \"\",\r\n        username: \"\",\r\n        password: \"\"\r\n    });\r\n\r\n    function handleChange(e) {\r\n        setfields({\r\n            ...fields,\r\n            [e.target.name]: e.target.value\r\n        });\r\n    }\r\n\r\n    async function handleSubmit(e) {\r\n        if (e) e.preventDefault();\r\n        console.log(\"SignIn Attempted:\", fields.username);\r\n\r\n        try {\r\n            const response = await fetch(`/api/auth/signin`, {\r\n                method: 'POST',\r\n                credentials: 'same-origin',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({\r\n                    username: fields.username,\r\n                    password: fields.password\r\n                })\r\n            });\r\n\r\n            let data = await response.json();\r\n            if (!response.ok) {\r\n                throw new Error(data.message || \"Invalid credentials\");\r\n            }\r\n\r\n            dispatch({\r\n                type: \"session/set\",\r\n                payload: { ...data }\r\n            });\r\n        } catch (err) {\r\n            console.error(`Failed to sign in. ${err}`);\r\n            setfields({\r\n                ...fields,\r\n                errorMessage: err.message\r\n            });\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Form handleSubmit={handleSubmit}>\r\n            <h5 className=\"font-weight-bold mb-3\">Sign In.</h5>\r\n            {fields.errorMessage &&\r\n                <FormRow className=\"justify-content-center\">\r\n                    <div className=\"alert alert-danger p-2 w-100 text-center\" role=\"alert\">\r\n                        {fields.errorMessage}\r\n                    </div>\r\n                </FormRow>\r\n            }\r\n            <FormGroup>\r\n                <input id=\"signInForm1\" type=\"text\" name=\"username\" className=\"form-control\"\r\n                    placeholder=\"Username\" value={fields.username} onChange={handleChange}\r\n                        aria-label=\"Username\" required />\r\n            </FormGroup>\r\n            <FormGroup>\r\n                <input id=\"signInForm2\" type=\"password\" name=\"password\" className=\"form-control\"\r\n                    placeholder=\"Password\" value={fields.password} onChange={handleChange}\r\n                        aria-label=\"Password\" required />\r\n            </FormGroup>\r\n            <FormGroup className=\"mb-2\">\r\n                <FormSubmit className=\"btn-primary w-100\">Sign In</FormSubmit>\r\n            </FormGroup>\r\n        </Form>\r\n    );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}